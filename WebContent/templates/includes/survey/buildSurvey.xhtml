<ui:composition template="/templates/surveyTemplate.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<style>
.panelc {
	width: 25%;
	vertical-align: top;
}

.dropTargetPanel {
	width: 90%;
}

.footerClass {
	text-align: center;
	padding-top: 5px;
}
</style>
	<ui:define name="title"> #{temp.surveyTitle}</ui:define>
	<ui:define name="bodyOptions">
		<h2>#{temp.builSurvey}</h2>

		<rich:messages id="infoBox" errorClass="error" infoClass="info"
			warnClass="war"></rich:messages>

	<div id="wrapper">
	<div id="content">
	<h3 class="tab" title="first"><div class="tabtxt"><a href="">first</a></div></h3>
	<div class="tab"><h3 class="tabtxt" title="second"><a href="">second</a></h3></div>
	<div class="tab"><h3 class="tabtxt" title="third"><a href="">third</a></h3></div>
	<div class="tab"><h3 class="tabtxt" title="fourth"><a href="">fourth</a></h3></div>
	<div class="boxholder">
		<div class="box">
			<p><strong>The First Box</strong><br />Lorem ipsum dolor sit amet, consectetuer adipiscing elit. In tempus ante nec ipsum. In ut felis id leo aliquet euismod. In augue lorem, posuere eu, tincidunt non, bibendum quis, nisl. Integer erat erat, posuere vel, convallis feugiat, accumsan ac, sem. Sed scelerisque tortor nec leo. Etiam vel massa vitae nulla elementum aliquet. Donec egestas semper tellus. Donec ultrices ante cursus lacus. Integer nec est. Suspendisse potenti. Donec fringilla. Maecenas condimentum, arcu sit amet volutpat tincidunt, mi urna sodales nunc, eget porttitor odio lectus sit amet metus. Vivamus aliquam. Etiam lectus leo, venenatis sit amet, vestibulum eu, sollicitudin vitae, metus.</p>
		</div>
		<div class="box">
			<p><strong>The Second Box</strong><br />Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Ut molestie nunc eu turpis. Donec facilisis enim sed dui. Sed nunc. Cras eu arcu. Praesent vel augue vel dolor ultricies convallis. Nam consectetuer risus eu urna. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam suscipit. Duis quis lacus sed tellus auctor blandit. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Proin eget massa in ante vehicula pharetra. Ut massa pede, ornare id, ultrices eget, porta et, metus.</p>
		</div>
		<div class="box">
			<p><strong>The Third Box</strong><br />Suspendisse accumsan velit at dui tristique consectetuer. Quisque vitae felis ac arcu dignissim facilisis. Quisque ullamcorper. Cras molestie, elit vel blandit mattis, eros metus tempus tortor, id lobortis sem nunc eget dolor. Nullam dui. Aenean justo. Curabitur ullamcorper, libero eu faucibus ultricies, ipsum arcu interdum tellus, eget tempus augue mauris nec purus. Donec a pede nec tortor venenatis bibendum. Nunc quis erat ac augue rhoncus dictum. Nullam id augue at augue iaculis posuere. Nulla volutpat facilisis quam.</p>
		</div>
		<div class="box">
			<p><strong>The Fourth Box</strong><br />Morbi feugiat mauris at velit. Proin rutrum lectus. Proin pulvinar turpis tempor nibh. Cras sit amet magna sed risus tempor vestibulum. Nunc vitae nulla. Vivamus fermentum. Praesent a sem. Cras eu neque ultricies tellus tristique vehicula. Praesent dignissim consequat metus. Integer dolor. Donec pellentesque, libero eu ullamcorper suscipit, lorem augue molestie arcu, vitae sodales quam nulla vel urna. Suspendisse accumsan sem nec leo. Proin dui ante, placerat id, consectetuer et, gravida in, velit. Duis non massa. Etiam mollis. Vestibulum id est. Sed sit amet tellus. Vestibulum varius dolor vitae velit.</p>
		</div>
	</div>
</div>
</div>
<script type="text/javascript">
	Element.cleanWhitespace('content');
	init();
</script>



		<rich:modalPanel id="panelnewSeccion" autosized="true" width="600"
			height="200" zindex="2000">
			<f:facet name="header">
				<a4j:form id="formHeaderNewtUser">
					<h:panelGroup>
						<h:outputText id="headerEditUser" value="Nuevo Grupo"></h:outputText>
					</h:panelGroup>
				</a4j:form>
			</f:facet>
			<f:facet name="controls">
				<a4j:form ajaxSubmit="true">
					<h:panelGroup>
						<a4j:commandLink
							onclick="Richfaces.hideModalPanel('panelnewSeccion')"
							ajaxSingle="true">
							<h:graphicImage value="#{url.img}/icons/close.png" />
						</a4j:commandLink>
					</h:panelGroup>
				</a4j:form>
			</f:facet>
			<a4j:form>
				<h:panelGrid columns="2">
					<h:outputLabel value="name" for="" />
					<h:inputText value="#{unitSurveySection.name}" />
					<a4j:commandButton value="Crear"
						action="#{surveyControllerBean.createSecction}"
						oncomplete="Richfaces.hideModalPanel('panelnewSeccion')"
						reRender="cSurForm"></a4j:commandButton>

				</h:panelGrid>
			</a4j:form>
		</rich:modalPanel>
		<a4j:form id="cSurForm">
			<h3>#{surveyFormatBean.surveyName}</h3>

			<h:panelGrid columns="5" cellpadding="4" cellspacing="4">
				<a4j:commandLink value="Crear Seccion"
					oncomplete="javascript:Richfaces.showModalPanel('panelnewSeccion')"></a4j:commandLink>
				<a4j:commandLink value="Crear Pregunta"
					oncomplete="javascript:Richfaces.showModalPanel('panelnewSeccion')"></a4j:commandLink>

			</h:panelGrid>

			<rich:dragIndicator id="indicator">
				<f:facet name="multiple">
					<f:verbatim>
						<b>Single item</b> {DragInfo}
            </f:verbatim>
				</f:facet>
			</rich:dragIndicator>
			<h:panelGrid columns="2">
				<h:panelGroup>
					<h:panelGrid columns="1">
						<h:outputLabel value="Buscar Preguntas" for="" />
						<h:inputText value="" />
						<a4j:commandButton value="Buscar"></a4j:commandButton>
					</h:panelGrid>
					<a4j:repeat value="#{surveyControllerBean.questionsList}" var="fm">
						<a4j:outputPanel styleClass="questionBox" layout="block">
							<h:outputText value="#{fm.questionName}"></h:outputText>
							<rich:dragSupport dragIndicator=":indicator" dragType="PHP"
								dragValue="#{fm}" reRender="repeatSeccion,cSurForm">
								<rich:dndParam name="label" value="#{fm.id}" />
							</rich:dragSupport>

						</a4j:outputPanel>

					</a4j:repeat>
				</h:panelGroup>
				<h:panelGroup>
					<a4j:repeat id="repeatSeccion"
						value="#{surveyControllerBean.sectionList}" var="seccion">
						<rich:panel styleClass="dropTargetPanel" style="width:100%;">
							<h:outputText value="#{seccion.name}" />
							<rich:dropSupport acceptedTypes="PHP" dropValue="#{seccion}"
								dropListener="#{buildEventSurvey.processDrop}"
								reRender="repeatSeccion,cSurForm">
							</rich:dropSupport>
							<a4j:repeat value="#{seccion.questions}" var="sec2">
								<rich:panel>
									<h:outputText value="Test #{sec2}" />
								</rich:panel>
							</a4j:repeat>
						</rich:panel>
					</a4j:repeat>
				</h:panelGroup>


			</h:panelGrid>
		</a4j:form>
		
			


	</ui:define>

</ui:composition>