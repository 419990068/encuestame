<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/ xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:encuestame="http://encuesta.me/encuestame">
<body>
<ui:composition template="/pages/mod/admon/groups.xhtml">
	<ui:define name="optionGroup">
		<h:form>
			<h2>#{temp.titleEditGroups}</h2>
			<h:outputText value="Lista - #{groupBean.list_unitBeans}" />

			<rich:dataTable width="800" style="margin: 5px; margin-top: 12px;"
				value="#{groupBean.list_unitBeans}" var="unitGroup">
				<f:facet name="header">
					<rich:columnGroup>
						<rich:column>
							<h:outputText value="ID" />
						</rich:column>
						<rich:column>
							<h:outputText value="Nombre de grupo" />
						</rich:column>
						<rich:column>
							<h:outputText value="Estado" />
						</rich:column>
					</rich:columnGroup>
				</f:facet>
				<rich:column>
					<a4j:commandLink value="#{unitGroup.groupName}" rendered="true"
						oncomplete="javascript:Richfaces.showModalPanel('panelEditGroup',{width:500, top:300})"
						reRender="formEditGroup">
						<a4j:actionparam name="processedGroupId" value="#{unitGroup.id}"
							assignTo="#{groupBean.processedGroupId}" noEscape="true" />
					</a4j:commandLink>
				</rich:column>
				<rich:column>
					<h:outputText value="#{unitGroup.groupDescription}" />
				</rich:column>
				<rich:column>
					<h:outputText value="#{unitGroup.stateId}" />
				</rich:column>
			</rich:dataTable>
		</h:form>

		<rich:messages></rich:messages>
		<rich:modalPanel id="panelEditGroup">
			<h:form id="formEditGroup">
				<a4j:region id="editGroup">
					<h:panelGrid columns="2">
						<h:outputLabel value="#{temp.name}" for="name" />
						<h:inputText id="name" value="#{unitGroupBean.groupName}"
							size="40" required="true"
							requiredMessage="#{temp.validateNameGroup}" />
						<h:outputLabel value="#{temp.description}" for="desc" />
						<h:inputTextarea id="desc"
							value="#{unitGroupBean.groupDescription}" cols="40"
							rows="3" required="true"
							requiredMessage="#{temp.validateDescrGroup}" />
						<h:outputLabel value="#{temp.state}" for="selectState" />
						<h:selectOneMenu value="#{unitGroupBean.stateId}"
							id="selectState" required="true"
							requiredMessage="#{temp.validateStaterGroup}">
							<f:selectItems value="#{globalBean.loadListState}" />
						</h:selectOneMenu>
						<a4j:commandButton value="#{temp.save}" action="#{groupBean.updateGroup}" oncomplete="Richfaces.hideModalPanel('panelEditGroup')"></a4j:commandButton>
						<a4j:commandButton id="cancel_id" value="cerrar"
							onclick="Richfaces.hideModalPanel('panelEditGroup')"
							ajaxSingle="true" />
					</h:panelGrid>
				</a4j:region>
			</h:form>
		</rich:modalPanel>

	</ui:define>
</ui:composition>



</body>
</html>