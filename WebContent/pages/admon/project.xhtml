<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/ xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:encuestame="http://encuesta.me/encuestame"
	xmlns:m="http://code.google.com/p/gmaps4jsf/">
<body>
<ui:composition template="/templates/admonTemplate.xhtml">
	<ui:define name="title"> #{temp.admonTitle} - #{temp.titleProyect}</ui:define>
	<ui:define name="bodyOptions">

		<h2>#{temp.titleProyect}</h2>
		<p>Con un proyecto podras organizar, planificar y publicar tus
		encuestas. Personaliza el ambito donde se ejecutara tu proyecto y
		limita zonas, Puedes publicar informes, crear PDF's y controlar que
		usuarios pueden trabajar en el.</p>

		<rich:spacer height="20"></rich:spacer>
		<a4j:form id="formProyect" ajaxSubmit="true">
			<rich:messages id="infoBox" errorClass="error" infoClass="info"
				warnClass="war"></rich:messages>

			<table style="padding: 0px;">
				<tr>
					<td valign="top"><f:attribute name="valign" value="top" /> <h:panelGroup>

						<h:panelGrid columns="4" cellpadding="4">
							<a4j:commandLink value="Crear Proyecto"
								action="#{proyectUserBean.changeCreate}" reRender="formProyect"></a4j:commandLink>
							<a4j:commandLink value="Editar Proyecto"
								action="#{proyectUserBean.changeEdit}" reRender="formProyect"></a4j:commandLink>
						</h:panelGrid>

						<div id="proyectBox"><a4j:outputPanel id="te"
							rendered="#{proyectUserBean.create}">
							
								<h3>Crear Proyecto</h3>
								<p>Para crear un proyecto, es necesario un nombre unico,</p>
								<h:panelGrid columns="2" cellpadding="4" cellspacing="4">
									<h:outputLabel value="Nombre" for="nameProyect" />
									<h:inputText value="#{unitProyectBean.name}" id="nameProyect"
										 />
									<h:outputLabel value="Fecha Inicio" for="dateInitProyect" />
									<rich:calendar id="dateInitProyect"
										value="#{unitProyectBean.dateInit}"
										datePattern="#{calendarBean.pattern}" ></rich:calendar>
									<h:outputLabel value="Fecha Final" for="dateFinishProyect" />
									<rich:calendar id="dateFinishProyect"
										value="#{unitProyectBean.dateFinish}"
										datePattern="#{calendarBean.pattern}" ></rich:calendar>
									<h:outputLabel value="Descripcion" for="proyectDescription" />
									<h:inputTextarea id="proyectDescription" cols="30" rows="4"
										value="#{unitProyectBean.description}" />
									<h:outputLabel value="Estado" for="proyectStatus" />
									<h:selectOneMenu value="#{unitProyectBean.state}"
										id="proyectStatus" 
										requiredMessage="#{temp.validateStaterGroup}">
										<f:selectItems value="#{globalBean.loadListState}" />
									</h:selectOneMenu>
									<a4j:commandButton value="Guardar"
										action="#{proyectUserBean.saveProyect}"></a4j:commandButton>

								</h:panelGrid>
						</a4j:outputPanel> <a4j:outputPanel id="vd" rendered="#{proyectUserBean.edit}">
							<h3>Editar Proyecto</h3>
							<a4j:repeat>
								<div id="proyectRow"></div>
							</a4j:repeat>
						</a4j:outputPanel></div>
					</h:panelGroup></td>
					<td valign="top" style="padding-left: 40px;"><h:panelGroup>
						<ui:fragment rendered="#{proyectUserBean.noProyects}">
							<h3>#{temp.notfoundProyects}</h3>
						</ui:fragment>
					</h:panelGroup></td>
				</tr>
			</table>
		</a4j:form>

	</ui:define>
</ui:composition>
</body>
</html>