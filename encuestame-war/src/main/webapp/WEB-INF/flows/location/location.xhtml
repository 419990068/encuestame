<ui:composition template="../../layouts/admonTemplate.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:sf="http://www.springframework.org/tags/faces"
    xmlns:sec="http://www.springframework.org/security/tags"
    xmlns:m="http://code.google.com/p/gmaps4jsf/">
    <ui:define name="title"> #{temp.locTitle} - #{temp.titleLoc}></ui:define>
    <ui:define name="bodyOptions">
        <a4j:form ajaxSubmit="true">
            <h:panelGrid columns="4">
                <a4j:commandLink value="#{temp.newLocalization}"
                    rendered="true"
                    oncomplete="javascript:Richfaces.showModalPanel('panelnewLocType')"
                    reRender="formHeaderNewLoc"></a4j:commandLink>
                <a4j:commandLink value="#{temp.NewLocType}"></a4j:commandLink>
            </h:panelGrid>
        </a4j:form>
        <rich:modalPanel id="panelnewLocType" autosized="true"
            width="600" height="500" zindex="2000">
            <f:facet name="header">
                <a4j:form id="formHeaderNewLoc">
                    <h:panelGroup>
                        <h:outputText id="headerEditLoc"
                            value="Nuevo Tipo Localizacion">
                        </h:outputText>
                    </h:panelGroup>
                </a4j:form>
            </f:facet>
            <a4j:form id="LocForm" ajaxSubmit="true">
                <h2>#{temp.titleCreateGroups}</h2>
                <h:panelGrid columns="2">
                    <h:outputLabel value="#{temp.NewLocType}" for="name" />
                    <h:inputText id="name" value="" size="40"
                        required="true"
                        requiredMessage="#{temp.validateNameLocType}" />
                    <h:outputLabel value="#{temp.description}"
                        for="desc" />
                    <h:inputTextarea id="level" value="" cols="40"
                        rows="3" required="true"
                        requiredMessage="#{temp.validateDescrGroup}" />
                    <a4j:commandButton value="#{temp.save}"
                        action="#{locationTypeBean.createLocationType}" />
                    <a4j:commandButton value="#{temp.close}"
                        oncomplete="Richfaces.hideModalPanel('panelnewLocType')"></a4j:commandButton>
                </h:panelGrid>
                <rich:messages errorClass="error" infoClass="info"
                    warnClass="war"></rich:messages>
            </a4j:form>
        </rich:modalPanel>
        <div class="locationContentWrapper">
            <div style="float: left; width: 200px;">
                <h:form>
                 <rich:tree style="width:300px" nodeSelectListener="#{locationBean.processSelection}"
                    reRender="selectedNode" ajaxSubmitSelection="true"  switchType="client"
                    value="#{locationBean.treeNode}" var="item" ajaxKeys="#{null}">
                        <rich:treeNode ajaxSingle="true" dragListener="#{item.processDrag}"
                            dropListener="#{item.processDrop}" dragType="all" acceptedTypes="all">
                            <h:outputText value="#{item}" />
                        </rich:treeNode>
                </rich:tree>

                </h:form>
            </div>
            <div style="float: left;">

           </div>
       </div>
    </ui:define>
</ui:composition>