<ui:composition template="../../layouts/admonTemplate.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:sf="http://www.springframework.org/tags/faces">
    <ui:define name="title"> #{msg.admonTitle} - #{msg.titleGroups}</ui:define>
    <ui:define name="bodyOptions">
        <a4j:form ajaxSubmit="true">
            <h:panelGrid columns="8">
                <a4j:commandLink value="#{msg.newGroup}"
                    rendered="true"
                    oncomplete="javascript:Richfaces.showModalPanel('panelnewGroup')">
                </a4j:commandLink>
            </h:panelGrid>
        </a4j:form>
        <rich:modalPanel id="panelnewGroup" autosized="true" width="600"
            height="200" zindex="2000">
            <f:facet name="header">
                <a4j:form id="formHeaderNewtUser">
                    <h:panelGroup>
                        <h:outputText id="headerEditUser"
                            value="Nuevo Grupo"></h:outputText>
                    </h:panelGroup>
                </a4j:form>
            </f:facet>
            <f:facet name="controls">
                <a4j:form ajaxSubmit="true">
                    <h:panelGroup>
                        <a4j:commandLink
                            onclick="Richfaces.hideModalPanel('panelnewGroup')"
                            ajaxSingle="true">
                            <h:graphicImage value="/icons/close.png" />
                        </a4j:commandLink>
                    </h:panelGroup>
                </a4j:form>
            </f:facet>
            <a4j:form id="groupForm" ajaxSubmit="true">
                <h2>#{msg.titleCreateGroups}</h2>
                <h:panelGrid columns="2">
                    <h:outputLabel value="#{msg.name}" for="name" />
                    <h:inputText id="name" value="#{groupBean.newGroup.groupName}" size="40"
                        required="true"
                        requiredMessage="#{msg.validateNameGroup}" />
                    <h:outputLabel value="#{msg.description}"
                        for="desc" />
                    <h:inputTextarea id="desc" value="#{groupBean.newGroup.groupDescription}" cols="40"
                        rows="3" required="true"
                        requiredMessage="#{msg.validateDescrGroup}" />
                    <a4j:commandButton value="#{msg.save}"
                        action="create"
                        oncomplete="Richfaces.hideModalPanel('panelnewGroup')"
                        reRender="#{flowRenderFragments}"></a4j:commandButton>
                </h:panelGrid>
            </a4j:form>
        </rich:modalPanel>
        <h:outputText id="noHotelsText" value="No Groups Found" rendered="#{groups.rowCount == 0}"/>
        <h:form id="groupsForm" >
            <div class="defaultTable">
            <rich:dataTable id="dataTableGroups" value="#{groups}" var="unitGroup" style="width:100%;" rendered="#{groups.rowCount > 0}">
                <f:facet name="header">
                    <rich:columnGroup>
                        <rich:column width="30px">
                            <h:outputText value="#{msg.id}" />
                        </rich:column>
                        <rich:column>
                            <h:outputText value="#{msg.description}" />
                        </rich:column>
                        <rich:column>
                            <h:outputText value="#{msg.state}" />
                        </rich:column>
                        <rich:column>
                        </rich:column>
                    </rich:columnGroup>
                </f:facet>
                <rich:column>
                </rich:column>
                <rich:column>
                    <h:outputText value="#{unitGroup.groupDescription}" />
                </rich:column>
                <rich:column>
                    <h:outputText value="#{unitGroup.stateId}" />
                </rich:column>
                <rich:column>
                    <sf:commandLink id="viewGroupDetail" value="Edit" action="select"/>
                </rich:column>
            </rich:dataTable>
            </div>
        </h:form>
    </ui:define>
</ui:composition>
